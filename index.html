<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>CreationWong 数据库</title> 
<meta name="CreationWong" content="Runoob">
<link rel="shortcut icon" href="https://raw.githubusercontent.com/CreationWong/creationwong.github.io/main/photo/logo-01.jpg">
</head>
<body>

<h1>CreationWong 数据库</h1>
<hr>
<h2>数据搜索</h2>
<div style="border: 2px dashed #ccc;width:320px;text-align:center;">
    <label for="sitename">数据名：</label>
    <input type="text" id="sitename" name="sitename" class="text"/>
    <br/>
    <label for="siteurl">存储地址：</label>
    <input type="text" id="siteurl" name="siteurl"/>
    <br/>
    <input type="button" onclick="save()" value="新增"/>
    <hr/>
    <label for="search_site">输入查询数据名：</label>
    <input type="text" id="search_site" name="search_site"/>
    <input type="button" onclick="findOne()" value="查找"/>
    <p id="find_result"><br/></p>
</div>
<div id="list">
</div>
<script>
    loadAll();

//添加数据    
function save() {
  var sitename = document.getElementById("sitename").value;
  var siteurl= document.getElementById("siteurl").value;
  localStorage.setItem(sitename,siteurl);
  alert("save Success!")
  loadAll();
}
//查询数据    
function findOne() {
  var search_site = document.getElementById("search_site").value;
  var siteurl = localStorage.getItem(search_site);
  var find_result= document.getElementById("find_result");
  find_result.innerHTML= search_site + "的地址是：" + siteurl;
}
//全查询
//将所有存储在localStorage中的对象提取出来，并展现到界面上
function loadAll(){
  var list = document.getElementById("list");
  if(localStorage.length>0){
    var result = "<table border='1'>";
    result += "<tr><td>key</td><td>value</td><td>操作</td></tr>";
    for(var i=0;i<localStorage.length;i++){
      var sitename = localStorage.key(i);
      var siteurl = localStorage.getItem(sitename);
      result += "<tr>" +
        "<td>"+sitename+"</td>" +
        "<td>"+siteurl+"</td>" +
        "<td><input type=button value=删除 onclick=del("+"'"+sitename+"'"+") ></td>" +
        "</tr>";
    }
    result += "</table>";
    list.innerHTML = result;
  }else{
    list.innerHTML = "数据为空……";
  }
}

//删除数据   
function del(name) {
  localStorage.removeItem(name);
  alert("删除成功!");
  loadAll();
}
    </script>
<hr>
<h2><a id="home">定位</h2>
<p><a href="#c">查看 C 分区</a></p>
<hr>
<h2><a id="c">C</h2>
<p>Cheerilee's Garden：<a href="other/Cheerilee's Garden.html">《Cheerilee's Garden》</a></p>
<p><a href="#home">返回首页</a></p>
<hr>
</body>
</html>

<html>
  <body>

    <p>此数据库由<a href="https://github.com/">GitHub</a>托管</p>
    <h2>响应完成时间：</h2>
    <p id="time"><script src="js/time.js"></script></p> 
   
  </body>
</html>
  
    
